<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SOCKET TEST</title>

    <script src="https://cdn.socket.io/4.4.1/socket.io.min.js"
            integrity="sha384-fKnu0iswBIqkjxrhQCTZ7qlLHOFEgNkRmK2vaO/LbTZSXdJfAu6ewRBdwHPhBo/H"
            crossorigin="anonymous"></script>
</head>
<body>

<button id="sendMessage">SEND</button>
<button id="room1">Join room 1</button>
<button id="room2">Join room 2</button>

<script>

    const socket = io('http://localhost:5200', {query: 'userId=8&accessToken=123123ds'})

    const btn = document.getElementById('sendMessage');

    btn.onclick = () => {
        socket.emit('message:send', {message: 'HELLO WORLD'})
    }

    socket.on('message:get-all', (data) => {
        console.log(data);
    })

    const room1 = document.getElementById('room1');
    const room2 = document.getElementById('room2');

    room1.onclick = () => {
        socket.emit('join_room', {id: 1});
    };

    room2.onclick = () => {
        socket.emit('join_room', {id: 2});
    };

    socket.on('userJoinedRoom', (data) => {
        console.log(data.message);
    });


</script>

</body>
</html>